---
title: "[보안] Lenovo y700 4세대 rooting"
date: 2025-09-16 20:56:00 +0900
categories: [Security, Android]
tags: [ai, security]
math: true
---

## Lenovo y700 4세대 rooting

NPU 성능 profiling을 위해 Lenovo y700 4세대(이하 y704)에 대한 rooting을 수행한다. [포럼](https://xdaforums.com/t/lenovo-legion-y700-4th-generation-tb322fc-8g4-unlock-bootloader.4743906/)에 방법이 나와있어서 이걸 참고해서 진행했다.


유선 adb 연결을 해놔야한다.


## 부트로더 언락

y704의 Bootloadr_sn을 추출해야 한다. adb 명령어로 쉽게 출력할 수 있다.

1. method1

    Open the USB debugging and OEM unlocking of the device. (개발자 설정에서 지정할 수 있다.)
    Connect the device to the computer.
    for file transfer or not for data transfer.
    Use the USB interface as shown in the figure. (가로로 놨을 때 아래쪽에 있는거.)
    Use the adb command to enter the following command:

    ```bash
    adb reboot bootloader
    fastboot getvar all
    ```

    Wait for output, then search for bootloader_SN_Part1 and Bootloader_SN_Part2
    Bootloader_SN(64 digits in total) = Bootloader_SN_Part1 + Bootloader_SN_Part2
    example：
    Bootloader sN Part1: d2a746c23a410256b1f4a94a299880f8
    BootloaderSN Part2：f34a8bbc2dbc6d298d4d322e093a997c
    Bootloader SN=Bootloader SN Part1+ Bootloader SN Part2 = d2a746c23a410256b1f4a94a299880f8f34a8bbc2dbc6d298d4d322e093a997c
    We need to remember the 64 bit Bootloader_SN of our device carefully

2. method2

    Open the USB debugging and OEM unlocking of the device. (개발자 설정에서 지정할 수 있다.)
    Connect the device to the computer.
    Use the adb command to enter the following command:

    ```bash
    adb shell getprop ro.boot.bootload_sn
    ```

    This command will output Bootloader_SN (Bootloader SN Part1+Bootloader SN Part2)
    We need to remember the 64 digit Bootloader_SN


이후.. flashing과 부트로더 언락을 수행한다.

포럼의 파일 다운로드 후 hex editior로 열어서 5가 64개인 부분을 찾아 기기의 Bootloader_SN으로 수정해 저장한다.
Then use hexadecimal to open the sn (1). img file I sent, and modify the 64 5s inside to match your device's Bootloader_SN(Bootloader_SN_Part1 + Bootloader_SN_Part2 )
Then save.

이후 adb로 기기에 전송한다.
Use the adb command to execute the following instruction:

```bash
fastboot flash unlock sn(1).img
```

flashing이 됐으면 unlock한다.
After successfully flashing the unlocked partition, continue using the adb command,
아래의 명령어를 실행하고 y704를 볼륨버튼으로 조작해 언락할 수 있다.
Press the volume down button twice to (unlock the booloader )and press the power button
At this point, your device has been unlocked and all data on the device will be cleared.

```bash
fastboot oem unlock
```




Qualcomm 9008 tool를 사용하고, 포럼에서 제공하는 y700 (8g4) 9008.melf 파일을 사용해 기기의 init_boot.img를 추출해야 한다. 이후 Magisk를 사용해 추출한 img 파일을 patch?하고, y704로 다시 전송하면 된다.
9008 tool은 PC에 설치해서 EDL 모드로 열린 y704을 인식할 수 있도록 하는 driver인 듯하다.


<!-- 네, 포럼 정보를 바탕으로 Qualcomm 9008(EDL) 모드와 y700 (8g4) 9008.melf 파일을 사용하여 init_boot.img를 추출하는 구체적인 방법을 명령어 수준으로 알려드리겠습니다.

이 과정은 PC에서 Python 기반의 edl.py라는 명령줄 도구를 사용하는 것을 기준으로 합니다. 전문적인 지식이 필요하며, 단계를 잘못 따르면 기기에 심각한 손상을 줄 수 있으니 신중하게 진행해야 합니다.

## 1단계: 사전 준비물
시작하기 전에 PC에 다음 항목들이 반드시 준비되어야 합니다.

Python 설치: PC에 Python이 설치되어 있어야 합니다.

edl.py 설치: PC의 명령 프롬프트(CMD) 또는 터미널을 열고 아래 명령어를 입력해 edl 도구를 설치합니다.

Bash

pip install edl
Qualcomm USB 드라이버: PC가 EDL 모드로 부팅된 태블릿을 인식할 수 있도록 Qualcomm HS-USB QDLoader 9008 드라이버를 미리 설치해야 합니다.

9008 부트 파일: 포럼에서 제공하는 로더 파일, 즉 y700 (8g4) 9008.melf 파일을 PC의 특정 작업 폴더(예: C:\y700)에 다운로드해 둡니다.

## 2단계: 태블릿을 EDL 모드로 전환
태블릿을 PC와 통신할 수 있는 9008 모드로 만들어야 합니다.

방법 1 (기기가 부팅될 경우): 태블릿의 USB 디버깅을 활성화한 후 PC와 연결하고, 터미널에서 다음 명령어를 입력합니다.

Bash

adb reboot edl
방법 2 (벽돌 상태일 경우): 이 방법이 더 일반적입니다. 기기를 완전히 끈 후, 기기를 분해하여 메인보드의 '테스트 포인트(Test Point)' 두 지점을 핀셋 같은 전도체로 연결(쇼트)한 상태에서 PC와 USB 케이블을 연결합니다.

## 3단계: PC 연결 확인
태블릿이 EDL 모드로 정상 진입했다면, PC의 **'장치 관리자'**를 열어 포트 (COM & LPT) 항목 아래에 Qualcomm HS-USB QDLoader 9008 장치가 나타나는지 반드시 확인해야 합니다. 이 장치가 보이지 않으면 드라이버가 제대로 설치되지 않은 것이므로 다음 단계를 진행할 수 없습니다.

## 4단계: init_boot.img 추출 명령어 실행
PC에서 y700 (8g4) 9008.melf 파일을 저장해 둔 폴더로 이동합니다.

해당 폴더에서 명령 프롬프트(CMD) 또는 터미널을 엽니다.

아래 명령어를 정확하게 입력하고 실행합니다.

Bash

edl --loader="y700 (8g4) 9008.melf" r init_boot init_boot.img
명령어 상세 설명:
edl: 설치된 edl.py 프로그램을 실행하라는 명령어입니다.

--loader="y700 (8g4) 9008.melf": 통신에 사용할 '디지털 열쇠', 즉 9008 부트 파일을 지정하는 옵션입니다. 파일 이름이 정확해야 합니다.

r: 파티션을 읽는(Read) 작업을 의미합니다. (read_partition 명령어의 축약형)

init_boot: 읽어올 대상 파티션의 이름입니다.

init_boot.img: 읽어온 데이터를 PC에 저장할 파일의 이름입니다.

이 명령을 실행하면, edl.py 도구가 9008.melf 파일을 이용해 태블릿과 통신을 시작하고, 기기의 init_boot 파티션 데이터를 통째로 읽어와 현재 폴더에 init_boot.img라는 파일로 생성해 줍니다. 이제 이 추출된 파일을 Magisk로 패치하는 다음 루팅 단계를 진행할 수 있습니다. -->






If you need root，Using the Qualcomm 9008 tool.
( y700 (8g4) 9008.melf)this is the 9008 boot file for the fourth generation of the Chinese version Y700. I'm not sure if the global version is universal. Use it to extract your device's (init_boot.img)
Then use Magisk to patch the extracted init_boot.img
For example, the patched file name is: Magick_aoxh-29001.img
After repairing Magick_aoxh-29001.img File transfer to computer.
Open USB debugging on the device,Connect the computer.As shown in the figure

for file transfer or not for data transfer
Use the adb command to enter the following command:

```bash
adb devices (Check if the device is successfully connected)
adb reboot bootloader (Restart the device to fastboot)
fastboot devices (Check if there is a device connected under fastboot)
fastboot flash init_boot Magick_aoxh-29001.img (Write (Magick_aoxh-29001.img) to init_oot partition)
fastboot reboot (Fastboot mode restarts to the system)
```

After starting the device, check if your Magisk is running properly and check if the root is working properly

Finally, you successfully unlocked the device and rooted it!!!




댓글을 보면..
relock하면 벽돌된다고 한다.
Zuxos.. ROM.. 펌웨어인 거 같은데, 이거 버전이 다르면 안되나? 1.1.11.076으로 됐다고 하고, 1.1.11.120은 하면 문제가 생긴다고 한다. 무슨 해결 방법들을 막 써놨는데..
내껀 ZUXOS 1.1.10.051인데... 이걸로 될까?
y704에 업데이트하라고 뜬 거 보면 1.1.11.120로 업데이트하려고 한다. 하면 안될듯...





